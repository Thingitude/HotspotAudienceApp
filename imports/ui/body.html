<template name="mainLayout">
  <body>
    <div class="container-fluid">
      <header>
        <h1>Hotspot Audience {{incompleteCount}}</h1>
   
        {{> loginButtons}}
   
      </header>
      <main>
        {{#if currentUser}}
      	  {{>tabcontrol}}
          {{>Template.dynamic template=content}}
        {{else}}
          <p>Please sign in or create an account</p>
        {{/if}}
      </main>
    </div>
  </body>
</template>

<template name="Eventsummary">
  {{name}} {{description}}<br>
</template>

<template name="tabcontrol">
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a role="button" name="listVenuesBtn" href="/list">
              <span class="glyphicon glyphicon-list" aria-hidden="true"></span> List venues</a></li>
            <li><a role="button" name="mapVenuesBtn" href="/map">
              <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> Show on map</a></li>
          </ul>
        </div>
      </div><!-- /.container-fluid -->
    </nav>
</template>

<template name="VenueList">
  <h2>Venue list ({{incompleteCount}})</h2>

    <div class="table">
    <table class="table">
      <thead>
        <tr><th>Name</th><th>Description</th><th>People</th><th>Avg Sound level</th><th>Temperature</th><th>Details</th></tr>
      </thead>
      <tbody>
        {{#each venues}}
          <tr><td>{{name}}</td><td>{{description}}</td>{{>venuesummarytemplatedata}}
            <td>
              <a type="button" class="btn btn-default" href="/details/{{this._id}}">
              <span class="glyphicon glyphicon-option-horizontal" aria-hidden="true"></span></a>
              <a type="button" class="btn btn-default" href="/map">
              <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></a>
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</template>

<template name="MapView">
  <div class="map-container">
    {{> googleMap name="map" options=mapOptions}}
  </div>
  
</template>

<template name="AddReview">
  <h2>Add review</h2>
  <form class="add-review">
    <label>Review Title</label> <br/>
    <input type="text" name="reviewTitle" placeholder="The Title of your review" /> <br/>
    <label>Description</label> <br/>
    <input type="text" name="reviewDetails" placeholder="Give more details(optional)" /> <br/>
    <label>Rating</label> <br/>
    <input type="text" name="reviewRating" placeholder="0-5" /> <br/>
    <input type="submit" value="Save">  <a href="/">Cancel</a>
   </form>
 </template>

<template name="DetailsView">

{{#with thisVenue}}
  <h2>{{name}}</h2>
  <h3>{{phone}}</h3>
    <label>Description</label> <br/>
    <p>{{description}}</p> <br/>
    <label>Opening hours</label> <br/>
    <p>{{openingHours}} </p> <br/>
    <label>Website</label> <br/>
    <p><a href={{websiteURL}}>{{websiteURL}}</a></p> <br/>
    <label>Booking/Reservations</label> <br/>
    <p><a href={{bookingURL}}>{{bookingURL}}</a></p> <br/>
    <label>News/Reviews</label> <br/>
    <p><a href={{newsURL}}>{{newsURL}}</a></p><br/>

{{/with}}
 
 {{#each events}}
    {{>Eventsummary}}
  {{/each}}

</template>

<template name="datapacket">
	<li>
   {{#with thisVenue}}
    People: {{people}}, Time: {{timestamp}}
  {{/with}}
	</li>
</template>

<template name="Venue">
  <h2>Venue </h2>
  {{#with thisVenue}}
    <a href="/editvenue/{{_id}}">Edit this venue</a><br/>
    <a href="/venueevents/{{_id}}">Show events for this venue</a><br/>
    <span class="text"><strong>{{name}}</strong> - {{description}} </span><br/><br/>

  {{/with}}

  <a href="/">Return to venue list</a>
</template>

<template name="VenueEvents">
  <h2>Events</h2>
  <a href="/addevent">Add an event</a><br/>
  <p>This is where we'd list all the events for a venue</p>
  <p>...if we knew what we were doing :-) </p>
  <a href="/editevent">Edit an event</a><br/>
  <a href="/venue">Return to venue stats</a>
</template>
 
<template name="AddEvent">
  <h2>Add event</h2>
  <p>This is where we'd add a new event for a venue</p>
  <p>...if we knew what we were doing :-) </p>
  <a href="/venueevents">Save</a>
</template>

<template name="EditEvent">
  <h2>Edit event</h2>
  <p>This is where we'd edit an existing event for a venue</p>
  <p>...if we knew what we were doing :-) </p>
  <a href="/venueevents">Save</a>
</template>
